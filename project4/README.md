# Project4: Kernel Debugging

- **Name (NetID):** Eric O'Donoghue (m41d656)
- **Class:** CSCI 591/594
- **Email:** ericodonoghue27@gmail.com
- **Due:** 12/5/2023

**Link to assignment:** [https://fangtian-zhong.github.io/project4.html](https://fangtian-zhong.github.io/project4.html)

## Task 1: Parent Process
![image](https://github.com/ericodonoghue/csci-591-fall2023-private/assets/48160705/3f9a31b7-48c3-4561-bc56-9089bf9b5fd4)
As we can see above the parent process is EngHost.exe. This was very simple, we just opneded process exploerer and found the notepad.exe process. 

## Task 2: Crash Message
![image](https://github.com/ericodonoghue/csci-591-fall2023-private/assets/48160705/c977d193-21d0-4f50-b5cf-7c85aa7300de)
As we can see above the flag is exception. This consisted of setting a break point on main and stepping until we hit the dvision by 0. This gave us the answer. 

## Task 3: WarBird
![image](https://github.com/ericodonoghue/csci-591-fall2023-private/assets/48160705/e2006695-9e10-4cf7-97e3-d0005021060b)
As we can see above the flag is highlighted. To find this I attached WinDBG to the kernel and used the x command to search for symbols and found all symbols associated with nt!WarbirdCrypto giving us the answer. 

## Task 4: Magic
![image](https://github.com/ericodonoghue/csci-591-fall2023-private/assets/48160705/501e611d-2c07-49ec-9a9c-b501c8059654)
As we can see the flag is does. To find this I used the command s -a fffff807`64e0000 L?01047000 "Magic". We can see that we are seraching for ascii values with the -a falg, we start at where nt is loaded ie that image base. and the length we search for is the entire size of the image. 

## Task 5: Module
![image](https://github.com/ericodonoghue/csci-591-fall2023-private/assets/48160705/c59ce95e-c1ce-4551-8413-6a094fd1e22f)
![image](https://github.com/ericodonoghue/csci-591-fall2023-private/assets/48160705/6a918ee7-860d-475f-abea-3228752cc076)
In order to find the following code we first used the command `# nt!ExGetExtensionTable fffff807 64e00000 L01047000` to get a list of all the functions that call the function nt!ExGetExtensionTable. We can then disassebmle each one of these functions and look for the assembly code from the task description. I then disassembled each of the reported functions using `uf`. This lead me to the function nt!BCryptDecrypt. As we can see in the above screenshot, the function BCryptDecrypt matches the code shown in the task description. 
